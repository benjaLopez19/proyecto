<form [formGroup]="RegistrarForm" (ngSubmit)="Registrarse()" class='registrarse'>
    <h2>Cuentanos quien eres</h2>
    
    <mat-grid-list cols="2" rowHeight="5:1">
        <mat-grid-tile><!--izquierda-->
            <p> <!--Nombres-->
                <mat-form-field appearance="outline" class="Rnombre">
                    <mat-label>nombres</mat-label>
                    <input matInput type="text" [formControl]='nombre'>
                  </mat-form-field>
                </p>
        </mat-grid-tile>
        <mat-grid-tile><!--derecha-->
            <p> <!--Apellidos-->
                <mat-form-field appearance="outline" class="Rapellido">
                    <mat-label>Apellidos</mat-label>
                    <input matInput [formControl]='apellido'>
                  </mat-form-field>
                </p>
        </mat-grid-tile>
        <mat-grid-tile>
            <p> <!--Rut-->
                <mat-form-field appearance="outline" class="Rrut">
                    <mat-label>Rut</mat-label>
                    <input matInput [formControl]='rut'>
                </mat-form-field>
            </p>
        </mat-grid-tile>

    </mat-grid-list>
    <h2>Cuentanos donde vives</h2>
    <mat-grid-list cols='2' rowHeight='5:1'>
        <mat-grid-tile>
            <p> <!--Direccion-->
                <mat-form-field appearance="outline" class="Rdireccion">
                    <mat-label>Direccion</mat-label>
                    <input matInput [formControl]='direccion'>
                  </mat-form-field>
            </p>
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field appearance="fill">
                <mat-label>Region</mat-label>
                <mat-select [formControl]=region name="sel2" (ngModelChange)="onChange($event)" required>
                    <mat-option [value]="i" *ngFor="let i of regiones">{{i}}</mat-option>
                </mat-select>
            </mat-form-field><br>
            <mat-form-field appearance="fill">
                <mat-label>Comuna</mat-label>
                <mat-select [formControl]='comuna' required>
                    <mat-option [value]="i" *ngFor="let i of comunas">{{i}}</mat-option>
                </mat-select>
            </mat-form-field><br>
        </mat-grid-tile>
    </mat-grid-list>
    <h2>Finalicemos con tu informacion de cuenta</h2>
    <mat-grid-list cols='2' rowHeight='5:1'>
        <mat-grid-tile><!--pass-->
            
            <mat-form-field appearance="outline" class="Rpass">
                <mat-label>Contrasenia</mat-label>
                <input matInput  [formControl]='contrasenia' [type]="hide ? 'password' : 'text'">
            </mat-form-field>
           

        </mat-grid-tile>
        <mat-grid-tile><!--Ccorreo electronico-->
            
            <mat-form-field appearance= 'outline' class="Rcorreo">
                <mat-label>Correo Electrónico</mat-label>
                <input type="email" matInput [formControl]="emailFormControl" placeholder="Ej. ejemplo@ej.com">
                <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                  Please enter a valid email address
                </mat-error>
                <mat-error *ngIf="emailFormControl.hasError('required')">
                   Debe ingresar su correo
                </mat-error>
              </mat-form-field>
             
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field appearance="outline" class="Rpass2">
                <mat-label>Confirmar Contraseña</mat-label>
                <input matInput  [formControl]='contrasenia2' [type]="hide ? 'password' : 'text'">
              </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>
    <ngx-recaptcha2 #captchaElem
        [siteKey]="siteKey"
        formControlName="recaptcha">
    </ngx-recaptcha2>
    <p *ngIf="bool">
        <ngb-alert *ngIf="bool" type="danger" (closed)="close()">Usuario ya registrado</ngb-alert>
    </p>
    <button type="submit" [disabled]="nombre.invalid || contrasenia2.invalid || apellido.invalid || rut.invalid || direccion.invalid || contrasenia.invalid|| region.invalid || emailFormControl.invalid "> KLASJDKLASDJKALSJDLSAKDJAKLSDJASKDLJ</button>
    <p *ngIf="!registrado">
        <ngb-alert *ngIf="!registrado" type="danger" (closed)="close()">Contrasenias diferentes</ngb-alert>
    </p>
</form>